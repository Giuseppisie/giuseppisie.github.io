<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WavGuard — Smart Wakeboard</title>

  <style>
    :root {
      --bg: #a0c0bc;
      --card: #427b76;
      --accent: #b0ab52;
      --content-max: 1100px;
      --demo-side-margin: 0.5in;
      --demo-video-w: 360px;
      --demo-video-h: 640px;
      --gap: 28px;
    }

    html,body { height:100%; margin:0; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: var(--bg);
      color: #111;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* TOPBAR */
    .topbar {
      position: fixed; inset: 0 0 auto 0; height:60px;
      display:flex; align-items:center; justify-content:space-between;
      padding: 0 20px; z-index:1000;
      background: rgba(0,0,0,0.22); backdrop-filter: blur(4px);
    }
    .brand { color:#fff; font-weight:800; font-size:18px; text-shadow:0 2px 8px rgba(0,0,0,0.4); }
    .topbar a { color:#fff; text-decoration:none; font-weight:700; background:var(--card); padding:8px 12px; border-radius:8px; }

    .spacer { height:60px; }

    /* HERO */
    .hero {
      position: relative; height: 60vh; width:100%;
      background-image: url("../images/wavguard/wavguardfull.png");
      background-size: cover; background-position:center; display:flex;
      align-items:center; justify-content:center;
    }
    .hero::after { content:""; position:absolute; inset:0; background: rgba(66,123,118,0.35); }
    .hero-title { position:relative; z-index:1; color:#fff; font-size:clamp(28px,5vw,48px); font-weight:800; text-shadow:0 8px 24px rgba(0,0,0,0.6); padding:0 20px; text-align:center; }

    /* MAIN CONTENT (centered area) */
    .content { padding: 40px 20px 32px; max-width: var(--content-max); margin: 0 auto; }

    /* Intro box (centered, constrained) */
    .project-intro {
      background: #ffffff;
      border-radius: 12px;
      padding: 32px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      margin: 0 auto 28px;
      max-width: 900px;
    }
    .project-intro p {
      font-size: 17px;
      line-height: 1.7;
      color: #333;
      margin: 0 0 18px 0;
    }
    .project-intro p:last-child { margin-bottom: 0; }

    /* DEMO card centered */
    .demo-wrapper { display:flex; justify-content:center; padding-bottom: 24px; }
    .demo-card {
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.08);
      padding: 28px;
      width: calc(100% - (var(--demo-side-margin) * 2));
      max-width: var(--content-max);
      box-sizing: border-box;
      margin: 0 auto;
    }
    .demo-card h2 { margin: 0 0 16px 0; font-size:22px; font-weight:700; color:#111; }
    .demo-grid { display:flex; gap: var(--gap); align-items:flex-start; }
    .video-col { flex: 0 0 var(--demo-video-w); width: var(--demo-video-w); height: var(--demo-video-h); display:flex; align-items:stretch; }
    .project-video { width:100%; height:100%; border-radius:10px; background:#000; object-fit:cover; display:block; box-shadow:0 6px 18px rgba(0,0,0,0.12); }
    .text-col { flex:1; font-size:17px; line-height:1.6; color:#333; }

    /* FEATURES - 3x grid */
    .features {
      margin: 28px auto 60px;
      max-width: var(--content-max,1100px);
      padding: 0 20px;
    }
    .features-heading { font-size: 28px; color: #111; margin: 0 0 16px 0; }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 22px;
    }

    .feature-card {
      background: var(--card);
      color: #fff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
      text-decoration: none;
      transition: transform .18s ease, box-shadow .18s ease;
      display: block;
    }
    .feature-card:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(0,0,0,0.18); }

    .feature-summary { display:block; padding:0; cursor:pointer; }
    .feature-thumb {
      width: 100%;
      height: 170px;
      object-fit: contain;      /* show whole image, not cropped */
      background: rgba(255,255,255,0.06);
      padding: 10px;
      display:block;
      border-top-left-radius: 12px;
      border-top-right-radius: 12px;
    }
    .feature-meta { padding: 14px 16px 18px 16px; display:flex; flex-direction:column; gap:8px; }
    .feature-title { font-weight:700; font-size:18px; color:#fff; }
    .feature-excerpt { font-size:14px; color: rgba(255,255,255,0.9); line-height:1.35; margin:0; }

    details.feature-card[open] { outline: 3px solid rgba(176,171,82,0.12); }

    /* details content inside (white area for readability) */
    .feature-details {
      background: #fff;
      color: #333;
      padding: 16px;
      line-height: 1.6;
    }
    .feature-details img { max-width: 100%; display:block; margin-bottom:12px; border-radius:8px; object-fit:contain; }

    @media (max-width: 1024px) { .features-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 720px) { .features-grid { grid-template-columns: 1fr; } .feature-thumb { height: 44vw; } }

    /* FULL IMAGES row */
    .full-images { max-width: var(--content-max); margin: 40px auto 80px; padding: 0 20px; }
    .full-board { margin-bottom:18px; border-radius:12px; overflow:hidden; background:#fff; box-shadow:0 8px 20px rgba(0,0,0,0.08); }
    .full-board img { display:block; width:100%; height:auto; object-fit:contain; }
    .full-board figcaption { padding:10px 14px; font-style:italic; color:#333; }

    .cad-row { display:grid; grid-template-columns: repeat(2, 1fr); gap:20px; margin-top:12px; }
    .cad-row figure { background:#fff; border-radius:12px; overflow:hidden; box-shadow:0 8px 20px rgba(0,0,0,0.08); }
    .cad-row img { width:100%; height:100%; object-fit:contain; display:block; }
    .cad-row figcaption { padding:10px 14px; font-style:italic; color:#333; }

    @media (max-width: 900px) {
      .cad-row { grid-template-columns: 1fr; }
      .demo-grid { flex-direction: column; }
      .video-col { width: 100%; height: auto; }
      .project-video { aspect-ratio: 3/4; }
    }
  </style>
</head>
<body>

  <!-- TOP BAR -->
  <div class="topbar">
    <div class="brand">Sienna Giuseppi</div>
    <a href="../index.html#engineering-projects">Back to projects</a>
  </div>
  <div class="spacer"></div>

  <!-- HERO -->
  <section class="hero" aria-label="Project hero image">
    <div class="hero-title">WavGuard — Smart Wakeboard</div>
  </section>

  <!-- MAIN: intro -->
  <main class="content" aria-labelledby="project-intro-heading">
    <section class="project-intro" id="project-intro">
      <p>
        WavGuard was developed to address one of the most challenging aspects of learning to wakeboard: understanding balance on an unstable, moving surface. For beginners, progress is largely driven by trial and error—while coaches can offer guidance, riders must ultimately learn how their feet distribute pressure across the board in real time. Our team set out to reduce this learning curve by providing immediate, intuitive feedback that helps riders recognize and correct their balance as they ride.
      </p>

      <p>
        Designed by a team of five engineers, WavGuard is a smart wakeboard system that delivers live visual feedback through integrated LED indicators. The board uses a combination of force-sensitive resistors (FSRs) to measure pressure distribution and an inertial measurement unit (IMU) to track orientation and motion, allowing the system to verify and contextualize rider input. All electronic components are fully padded and embedded for comfort and safety, creating a responsive training tool that supports beginners as they build confidence, balance, and technique while riding on the water.
      </p>
    </section>
  </main>

  <!-- DEMO -->
  <section class="demo-wrapper" aria-labelledby="project-demo-heading">
    <div class="demo-card" role="region" aria-label="Project demo card">
      <h2 id="project-demo-heading">Project Demo</h2>

      <div class="demo-grid">
        <!-- VIDEO column (portrait) -->
        <div class="video-col">
          <video class="project-video" controls preload="metadata" poster="../images/wavguard/wavdemo.jpeg" playsinline>
            <source src="../images/wavguard/wavdemovid.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
        </div>

        <!-- TEXT column -->
        <div class="text-col">
          <p><strong>Demo overview</strong></p>
          <p>
            This demo video was recorded during our final project presentation and shows
            WavGuard operating in real time. The system uses <strong>ratio-based logic</strong>,
            comparing relationships between sensors rather than absolute force values so it
            adapts to riders of different weights and stances.
          </p>

          <p><strong>LED feedback system</strong></p>
          <ul>
            <li><strong>Blue:</strong> not enough pressure in a region</li>
            <li><strong>Red:</strong> too much pressure in a region</li>
            <li><strong>Green:</strong> appears only when the board is fully balanced</li>
          </ul>
          <p>
            Pressure is evaluated across toes vs. heels, left vs. right, and diagonal corners.
            Balanced regions remain unlit to avoid distracting the rider.
          </p>

          <p><strong>Tilt-based interpretation</strong></p>
          <p>
            Board orientation is measured using an <strong>IMU</strong>. Expected pressure
            distributions are calculated from tilt angle using <strong>linear interpolation</strong>,
            allowing feedback to adjust naturally as the board angle changes.
          </p>

          <p>
            The system is designed as <strong>guidance rather than a strict target</strong>,
            recognizing that some riding maneuvers naturally require imbalance.
          </p>

          <div class="demo-note">
            Further technical breakdowns are available in the feature sections below
            (Foot Sensors, IMU Sensor, and Code Logic).
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section class="features" aria-labelledby="features-heading">
    <h2 id="features-heading" class="features-heading">Features</h2>

    <div class="features-grid">

      <!-- Feature 1: Foot Sensors (FSR) -->
      <details class="feature-card" data-index="0">
        <summary class="feature-summary">
          <img src="../images/wavguard/footsensor.png" alt="foot sensors thumbnail" class="feature-thumb">
          <div class="feature-meta">
            <div class="feature-title">Foot Sensors (FSR)</div>
            <div class="feature-excerpt">
              Embedded pressure sensors measure how weight is distributed across the board.
            </div>
          </div>
        </summary>

        <div class="feature-details">
          <img src="../images/wavguard/footwalkthrough.png" alt="FSR layout detail">
          <p>
            WavGuard uses force-sensitive resistors (FSRs) embedded beneath the rider’s feet to measure how pressure is distributed across the wakeboard. Instead of relying on absolute force values, which vary widely between riders, the system evaluates <strong>relative pressure ratios</strong> between sensor regions. This allows the system to scale across different rider weights, stances, and skill levels without recalibration.
          </p>

          <p>The board is divided into multiple pressure zones that capture meaningful balance information:</p>

          <ul>
            <li>Toes vs. heels (forward/backward balance)</li>
            <li>Left vs. right side (lateral balance)</li>
            <li>Diagonal corners (rotational imbalance)</li>
          </ul>

          <p>
            At each timestep, raw analog FSR readings are normalized into percentage-based ratios representing how total rider weight is distributed across the board. For example, instead of measuring force in newtons, the system determines whether 60% of pressure is on the toes and 40% on the heels.
          </p>

          <p>
            This ratio-based approach ensures that feedback reflects <em>how</em> a rider is balancing, not <em>how hard</em> they are pushing. These normalized pressure ratios are then passed to the Code Logic layer, where they are compared against expected values derived from board orientation.
          </p>
        </div>
      </details>

      <!-- Feature 2: IMU Sensor -->
      <details class="feature-card" data-index="1">
        <summary class="feature-summary">
          <img src="../images/wavguard/imu.png" alt="IMU sensor thumbnail" class="feature-thumb">
          <div class="feature-meta">
            <div class="feature-title">IMU Sensor</div>
            <div class="feature-excerpt">
              Measures board tilt and orientation to interpret rider intent.
            </div>
          </div>
        </summary>

        <div class="feature-details">
          <img src="../images/wavguard/features/imu.png" alt="IMU orientation detail">
          <p>
            WavGuard uses an inertial measurement unit (IMU) to track the board’s orientation in real time. Specifically, roll and pitch angles are monitored to determine how the board is tilted relative to the water. This information provides critical context for interpreting pressure data from the FSRs.
          </p>

          <p>
            Raw IMU data is filtered to reduce noise caused by wakes, vibration, and transient disturbances. Short-duration spikes are suppressed so that feedback reflects sustained rider behavior rather than momentary water conditions.
          </p>

          <p>The system defines three tilt-based training zones:</p>

          <ul>
            <li><strong>0–8° (Balance Mode):</strong> The board is considered relatively flat. The system checks for even pressure distribution across all FSR regions and reinforces basic stance awareness.</li>
            <li><strong>8–20° (Edge Commitment Mode):</strong> The rider is intentionally edging. In this range, pressure is expected to shift in proportion to the tilt angle, and feedback teaches riders how to commit weight correctly.</li>
            <li><strong>&gt;22° (Safety Warning Mode):</strong> The board is approaching a loss-of-control condition. Large red warnings prioritize rider safety rather than correction.</li>
          </ul>

          <p>
            By using tilt thresholds, the IMU prevents the system from penalizing riders for intentional maneuvers while still identifying unintentional imbalance. IMU data is passed to the Code Logic layer to determine the expected pressure distribution for a given board angle.
          </p>
        </div>
      </details>

      <!-- Feature 3: Code Logic -->
      <details class="feature-card" data-index="2">
        <summary class="feature-summary">
          <img src="../images/wavguard/pcbscematic.png" alt="code logic thumbnail" class="feature-thumb">
          <div class="feature-meta">
            <div class="feature-title">Code Logic</div>
            <div class="feature-excerpt">
              Integrates sensor data to determine when and how feedback is shown.
            </div>
          </div>
        </summary>

        <div class="feature-details">
          <img src="../images/wavguard/pcb.png" alt="control logic schematic">
          <p>
            The Code Logic layer acts as the central decision-making system of WavGuard. It combines normalized pressure ratios from the FSRs with orientation data from the IMU to determine when feedback is necessary and what form it should take.
          </p>

          <p>
            For each timestep, the system calculates an <strong>expected pressure ratio</strong> based on board tilt using linear interpolation. For example:
          </p>

          <ul>
            <li>At 0° tilt, expected pressure is evenly distributed (≈50% toes / 50% heels).</li>
            <li>At 15° toe-side tilt, the system expects ~70% of pressure on the toes.</li>
            <li>At higher tilt angles, expected ratios shift accordingly.</li>
          </ul>

          <p>
            Actual pressure ratios from the FSRs are compared against these expected values. If the mismatch exceeds a predefined tolerance, visual feedback is generated. This prevents constant feedback during minor fluctuations and focuses attention only on meaningful errors.
          </p>

          <p>LED feedback follows three clear rules:</p>
          <ul>
            <li><strong>Blue:</strong> Not enough pressure in a region</li>
            <li><strong>Red:</strong> Too much pressure in a region</li>
            <li><strong>Green:</strong> Appears only when pressure distribution and board orientation are in equilibrium</li>
          </ul>

          <p>
            Balanced regions remain unlit to minimize distraction. Green is not intended as a constant target; rather, it indicates moments of equilibrium. The system is designed as <strong>guidance</strong>, recognizing that certain riding maneuvers naturally require imbalance.
          </p>

          <p>
            To ensure stability and usability, pressure data is debounced, IMU signals are filtered, and feedback updates are rate-limited. Together, these design choices create a responsive yet non-intrusive training system that accelerates learning without overwhelming the rider.
          </p>
        </div>
      </details>

      <!-- Feature 4: Waterproofing -->
      <details class="feature-card" data-index="3">
        <summary class="feature-summary">
          <img src="../images/wavguard/watertest.jpg" alt="waterproofing thumbnail" class="feature-thumb">
          <div class="feature-meta">
            <div class="feature-title">Waterproofing</div>
            <div class="feature-excerpt">IP67-rated enclosures and sealed cable glands at all penetrations.</div>
          </div>
        </summary>

        <div class="feature-details">
          <img src="../images/wavguard/features/watertest.jpg" alt="waterproofing detail">
          <p>
            Every electronic area is isolated inside a gasketed enclosure. Potting is used selectively for fragile connectors; pressure-equalization membranes prevent condensation. RTV silicone and marine-grade sealant are used to attach LEDs, seal joints, and waterproof wiring entry points. Drain channels and service-access design reduce the risk of trapped water.
          </p>

          <ul>
            <li>Gasketed electronics box (O-ring sealed)</li>
            <li>Potting for fragile connectors and selective components</li>
            <li>Marine-grade cable glands / connectors for service ports</li>
            <li>Drain channels to avoid water pooling under the skin</li>
          </ul>
        </div>
      </details>

      <!-- Feature 5: Electronics box -->
      <details class="feature-card" data-index="4">
        <summary class="feature-summary">
          <img src="../images/wavguard/electronicsbox.png" alt="electronics box thumbnail" class="feature-thumb">
          <div class="feature-meta">
            <div class="feature-title">Electronics box</div>
            <div class="feature-excerpt">Modular, serviceable enclosure with quick-access fastener and internal mounting plane.</div>
          </div>
        </summary>

        <div class="feature-details">
          <img src="../images/wavguard/electronicsbox.png" alt="electronics box detail">
          <p>
            An IMU is placed in the center electronics box to measure board tilt and angle.
          </p>

          <p>
            An IP65-rated waterproof ABS enclosure with an O-ring seal houses the ESP32, IMU,
            FSR circuitry, and LED resistors. The enclosure is mounted with threaded inserts
            for secure attachment and easy service access.
          </p>

          <ul>
            <li>Removable and rechargeable battery</li>
            <li>Exterior on/off button</li>
            <li>Cushioned mounting (neoprene) to isolate shocks and prevent collisions</li>
          </ul>
        </div>
      </details>

      <!-- Feature 6: Wire and LED Routing -->
      <details class="feature-card" data-index="5">
        <summary class="feature-summary">
          <img src="../images/wavguard/embed.png" alt="embedded wiring thumbnail" class="feature-thumb">
          <div class="feature-meta">
            <div class="feature-title">Wire & LED routing</div>
            <div class="feature-excerpt">Embedded wiring and edge-mounted LEDs for a finished, waterproof design.</div>
          </div>
        </summary>

        <div class="feature-details">
          <img src="../images/wavguard/routing.png" alt="wire routing detail">
          <p>
            To create a clean, finished board with no exposed electronics, we used a Dremel to machine custom wiring channels directly into the board. These channels route power and signal lines beneath the foot pads, connecting the electronics box to the foot sensors and LED system while keeping all wiring inaccessible to the rider.
          </p>

          <p>
            After routing, the channels were filled with <strong>potting gel and waterproof epoxy</strong> to lock the wires in place and provide long-term water resistance. This process prevents wire movement under flex and ensures durability in repeated water exposure.
          </p>

          <p>
            Individually addressable LED strips were mounted along the perimeter of the board to provide immediate, intuitive visual feedback. LEDs were placed where they remain visible to the rider without interfering with stance or movement. Custom 3D-printed corner brackets were designed to secure the LED strips and protect both the board edges and electronics from impact during falls or transport.
          </p>

          <ul>
            <li>Wiring embedded below the board surface</li>
            <li>Potting gel and epoxy for waterproofing and strain relief</li>
            <li>Edge-mounted individually addressable LEDs for zoned feedback</li>
            <li>3D-printed corner brackets for protection and durability</li>
          </ul>
        </div>
      </details>

    </div>
  </section>

  <!-- FULL IMAGES -->
  <section class="full-images" aria-labelledby="full-images-heading">
    <h2 id="full-images-heading" style="font-size:22px; font-weight:700; color:#111; margin:0 0 16px;">Full images</h2>

    <!-- Large full-board photo -->
    <figure class="full-board" style="max-width:1100px; margin:0 auto;">
      <img src="../images/wavguard/wavfull.png" alt="WavGuard full board photo">
      <figcaption><em>Full board — finished top surface with embedded sensors and edge LEDs</em></figcaption>
    </figure>

    <!-- Two-column CAD row -->
    <div class="cad-row" style="max-width:1100px; margin:20px auto 0;">
      <figure>
        <img src="../images/wavguard/exploadedwav.png" alt="Exploded view of WavGuard components">
        <figcaption><em>Exploded view — component layout</em></figcaption>
      </figure>

      <figure>
        <img src="../images/wavguard/cadwavexp.png" alt="Labeled CAD view of WavGuard">
        <figcaption><em>Labeled CAD view — mounting points, channel routing, and enclosure placement</em></figcaption>
      </figure>
    </div>
  </section>

</body>
</html>
